{"filter":false,"title":"sec_uploader.rb","tooltip":"/app/uploaders/sec_uploader.rb","ace":{"folds":[],"scrolltop":386.1111660003662,"scrollleft":0,"selection":{"start":{"row":23,"column":5},"end":{"row":23,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":19,"state":"start","mode":"ace/mode/ruby"}},"hash":"25127ec9044052297dd4ce1b8c7a1c974dd11ef7","undoManager":{"mark":51,"position":51,"stack":[[{"start":{"row":1,"column":0},"end":{"row":8,"column":4},"action":"insert","lines":["class BookUploader < CarrierWave::Uploader::Base"," after :store, :remove_original_file"," "," def remove_original_file(p)","    if self.version_name.nil?","      self.file.delete if self.file.exists?","    end"," end"],"id":2}],[{"start":{"row":41,"column":2},"end":{"row":43,"column":7},"action":"remove","lines":["# version :thumb do","  #   process :resize_to_fit => [50, 50]","  # end"],"id":3},{"start":{"row":41,"column":2},"end":{"row":43,"column":6},"action":"insert","lines":["version :thumb do","     process :resize_to_limit => [700, 400]","   end"]}],[{"start":{"row":53,"column":2},"end":{"row":55,"column":7},"action":"remove","lines":["# def filename","  #   \"something.jpg\" if original_filename","  # end"],"id":4},{"start":{"row":53,"column":2},"end":{"row":55,"column":6},"action":"insert","lines":["def filename","     Time.now.to_i.to_s + [*('a'..'z')].sample(8).join + \".\" + file.extension if original_filename","   end"]}],[{"start":{"row":13,"column":2},"end":{"row":13,"column":3},"action":"remove","lines":["#"],"id":5}],[{"start":{"row":17,"column":2},"end":{"row":17,"column":3},"action":"remove","lines":["#"],"id":6}],[{"start":{"row":16,"column":2},"end":{"row":16,"column":3},"action":"insert","lines":[" "],"id":7}],[{"start":{"row":16,"column":3},"end":{"row":16,"column":4},"action":"insert","lines":["#"],"id":8}],[{"start":{"row":55,"column":2},"end":{"row":55,"column":3},"action":"remove","lines":[" "],"id":9}],[{"start":{"row":43,"column":2},"end":{"row":43,"column":3},"action":"remove","lines":[" "],"id":10}],[{"start":{"row":2,"column":0},"end":{"row":8,"column":4},"action":"remove","lines":[" after :store, :remove_original_file"," "," def remove_original_file(p)","    if self.version_name.nil?","      self.file.delete if self.file.exists?","    end"," end"],"id":11}],[{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"remove","lines":["class BookUploader < CarrierWave::Uploader::Base",""],"id":12}],[{"start":{"row":2,"column":47},"end":{"row":3,"column":0},"action":"insert","lines":["",""],"id":13},{"start":{"row":3,"column":0},"end":{"row":3,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":3,"column":2},"end":{"row":9,"column":4},"action":"insert","lines":[" after :store, :remove_original_file"," "," def remove_original_file(p)","    if self.version_name.nil?","      self.file.delete if self.file.exists?","    end"," end"],"id":14}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["#"],"id":15}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["{"],"id":16}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["m"],"id":17},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["o"]},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["d"]}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["e"],"id":18}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["l"],"id":19}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["."],"id":20}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["c"],"id":21}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["l"],"id":22},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["a"]}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["s"],"id":23}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["s"],"id":24}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["."],"id":25}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["t"],"id":26}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["o"],"id":27}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["_"],"id":28},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["s"]}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["."],"id":29},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["u"]},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["n"]}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["d"],"id":30}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["e"],"id":31},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["r"]},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["s"]}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["c"],"id":32}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["o"],"id":33}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["r"],"id":34}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["e"],"id":35},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["}"]},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["/"]}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["#"],"id":36},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["{"]},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["m"]}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["o"],"id":37},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["u"]}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["n"],"id":38}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["t"],"id":39}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["e"],"id":40}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["d"],"id":41},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["_"]}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["a"],"id":42},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["s"]},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["}"]}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["/"],"id":43},{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["#"]}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["{"],"id":44}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["m"],"id":45}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["o"],"id":46}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["d"],"id":47}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["e"],"id":48}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["l"],"id":49}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["."],"id":50}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["i"],"id":51}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["d"],"id":52}],[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"remove","lines":["}"],"id":53}]]},"timestamp":1473406574223}